<script>
  console.log(
    "%cscript before",
    "color: red",
    navigator.serviceWorker.controller?.state,
    navigator.serviceWorker.controller?.scriptURL,
  );
</script>

<script src="ezswpage.min.js"></script>
<script>
  navigator.serviceWorker.register("sw2.js");
</script>

<script type="module">
  console.log(
    "%cmodule after",
    "color: red",
    navigator.serviceWorker.controller?.state,
    navigator.serviceWorker.controller?.scriptURL,
  );

  const response = await fetch("/fake-api");
  const text = await response.text();
  console.log("fake-api response", text);
</script>
